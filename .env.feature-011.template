# Feature 011: Document Ingestion & Batch Processing
# Environment Variables Template for DigitalOcean Droplet (161.35.44.166)
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.feature-011.template .env
# 2. Fill in all values marked with <REPLACE_WITH_...>
# 3. Never commit .env to git (already in .gitignore)

# ==============================================================================
# DATABASE
# ==============================================================================
POSTGRES_PASSWORD=<REPLACE_WITH_POSTGRES_PASSWORD>

# ==============================================================================
# REDIS & CELERY
# ==============================================================================
# Redis connection (docker-compose internal network)
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ==============================================================================
# AUTHENTIK OIDC AUTHENTICATION
# ==============================================================================
AUTHENTIK_URL=http://authentik-server:9000
AUTHENTIK_CLIENT_ID=<REPLACE_WITH_AUTHENTIK_CLIENT_ID>
AUTHENTIK_CLIENT_SECRET=<REPLACE_WITH_AUTHENTIK_CLIENT_SECRET>
AUTHENTIK_REALM=gov-ai-realm
AUTHENTIK_SECRET_KEY=<REPLACE_WITH_AUTHENTIK_SECRET_KEY>

# Generate AUTHENTIK_SECRET_KEY with: openssl rand -base64 50

# ==============================================================================
# DEEPINFRA API (Embeddings)
# ==============================================================================
DEEPINFRA_API_KEY=<REPLACE_WITH_DEEPINFRA_API_KEY>

# ==============================================================================
# QDRANT VECTOR DATABASE
# ==============================================================================
QDRANT_URL=http://host.docker.internal:6333

# ==============================================================================
# ENCRYPTION (OAuth Tokens)
# ==============================================================================
ENCRYPTION_MASTER_SECRET=<REPLACE_WITH_ENCRYPTION_MASTER_SECRET>

# Generate ENCRYPTION_MASTER_SECRET with: openssl rand -hex 32

# ==============================================================================
# DIGITALOCEAN SPACES (Object Storage)
# ==============================================================================
DO_SPACES_KEY=<REPLACE_WITH_DO_SPACES_KEY>
DO_SPACES_SECRET=<REPLACE_WITH_DO_SPACES_SECRET>
DO_SPACES_ENDPOINT=https://lon1.digitaloceanspaces.com
DO_SPACES_BUCKET=gov-ai-vectorization
DO_SPACES_REGION=lon1

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
RATE_LIMITING_ENABLED=true
WEBSOCKET_ENABLED=true

# ==============================================================================
# NOTES
# ==============================================================================
# - PostgreSQL runs natively on host (not in Docker)
# - Qdrant runs in separate Docker container on host
# - All processing occurs on droplet for UK data sovereignty
